{% block supplier_detail %}
    <sw-page class="supplier-detail">
        {% block supplier_detail_header %}
            <template #smart-bar-header>
                <h2>{{ identifier }}</h2>
            </template>
        {% endblock %}

        {% block supplier_detail_actions %}
            <template #smart-bar-actions>
                {% block supplier_detail_actions_cancel %}
                    <sw-button
                        :routerLink="{ name: 'artiss.supplier.index' }"
                        :disabled="isLoading"
                    >
                        {{ $tc('supplier.detail.buttonCancel') }}
                    </sw-button>
                {% endblock %}

                {% block supplier_detail_actions_save %}
                    <sw-button-process
                        class="supplier-detail__save-action"
                        :isLoading="isLoading"
                        :processSuccess="processSuccess"
                        variant="primary"
                        @process-finish="saveFinish"
                        @click="onClickSave"
                    >
                        {{ $tc('supplier.detail.buttonSave') }}
                    </sw-button-process>
                {% endblock %}
            </template>
        {% endblock %}

        {% block supplier_detail_content %}
            <template #content>
                <sw-card-view v-if="supplier">
                    {% block supplier_detail_content_card_general %}
                        <sw-card
                            :title="$tc('supplier.detail.cardTitleGeneral')"
                            :isLoading="isLoading"
                        >
                            <sw-text-field
                                v-model="supplier.name"
                                :label="$tc('supplier.detail.labelName')"
                                :placeholder="$tc('supplier.detail.placeholderName')"
                            >
                            </sw-text-field>

                            <sw-multi-select
                                :value="safeManufacturerIds"
                                @update:value="onManufacturersChange"
                                :label="$tc('supplier.detail.labelManufacturers')"
                                :placeholder="$tc('supplier.detail.placeholderManufacturers')"
                                :options="manufacturerOptions"
                                labelProperty="label"
                                valueProperty="value"
                            >
                            </sw-multi-select>
                            <div v-if="selectedManufacturerOptions.length > 0" class="selected-items-list">
                                <div class="selected-items-header">
                                    <strong>{{ $tc('supplier.detail.selectedCount', { count: selectedManufacturerOptions.length }) }}:</strong>
                                </div>
                                <div class="selected-items-tags">
                                    <span v-for="option in selectedManufacturerOptions" :key="option.value" class="selected-tag">
                                        {{ option.label }}
                                    </span>
                                </div>
                            </div>

                            <sw-multi-select
                                :value="safeAlternativeManufacturerIds"
                                @update:value="onAlternativeManufacturersChange"
                                :label="$tc('supplier.detail.labelAlternativeManufacturers')"
                                :placeholder="$tc('supplier.detail.placeholderAlternativeManufacturers')"
                                :options="manufacturerOptions"
                                labelProperty="label"
                                valueProperty="value"
                            >
                            </sw-multi-select>
                            <div v-if="selectedAlternativeManufacturerOptions.length > 0" class="selected-items-list">
                                <div class="selected-items-header">
                                    <strong>{{ $tc('supplier.detail.selectedCount', { count: selectedAlternativeManufacturerOptions.length }) }}:</strong>
                                </div>
                                <div class="selected-items-tags">
                                    <span v-for="option in selectedAlternativeManufacturerOptions" :key="option.value" class="selected-tag">
                                        {{ option.label }}
                                    </span>
                                </div>
                            </div>

                            <sw-multi-select
                                :value="safeEquipmentTypeIds"
                                @update:value="onEquipmentTypesChange"
                                :label="$tc('supplier.detail.labelEquipmentTypes')"
                                :placeholder="$tc('supplier.detail.placeholderEquipmentTypes')"
                                :options="equipmentTypeOptions"
                                labelProperty="label"
                                valueProperty="value"
                            >
                            </sw-multi-select>
                            <div v-if="selectedEquipmentTypeOptions.length > 0" class="selected-items-list">
                                <div class="selected-items-header">
                                    <strong>{{ $tc('supplier.detail.selectedCount', { count: selectedEquipmentTypeOptions.length }) }}:</strong>
                                </div>
                                <div class="selected-items-tags">
                                    <span v-for="option in selectedEquipmentTypeOptions" :key="option.value" class="selected-tag">
                                        {{ option.label }}
                                    </span>
                                </div>
                            </div>
                        </sw-card>
                    {% endblock %}

                    {% block supplier_detail_content_tabs %}
                        <sw-card v-if="supplier && customFieldSets.length > 0" :isLoading="isLoading">
                            <sw-custom-field-set-renderer
                                :entity="supplier"
                                :sets="customFieldSets"
                            />
                        </sw-card>
                    {% endblock %}
                </sw-card-view>
            </template>
        {% endblock %}
    </sw-page>
{% endblock %}
