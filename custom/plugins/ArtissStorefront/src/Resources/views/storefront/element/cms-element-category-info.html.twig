{% block element_category_info %}
    {% set category = page.category %}
    {% set config = element.config %}

    {# Get data from element.data if mapped, otherwise fallback to page.category #}
    {% set description = element.data.description|default(category.translated.description|default(null)) %}
    {% set media = element.data.media|default(category.media|default(null)) %}
    {% set categoryName = category.translated.name|default('') %}

    {% if description or media %}
        <div class="cms-element-category-info">
            {% if media %}
                <div class="category-info__media">
                    {% sw_thumbnails 'category-info-thumbnail' with {
                        media: media,
                        sizes: {
                            'default': '400px'
                        },
                        attributes: {
                            class: 'category-info__img',
                            alt: categoryName,
                            loading: 'lazy'
                        }
                    } %}
                </div>
            {% endif %}

            {% if description %}
                <div class="category-info__description">
                    {{ description|raw }}
                </div>
            {% endif %}
        </div>
    {% endif %}
{% endblock %}
