# Shopware 6.7 Production Environment Configuration
# Copy this file to .env.prod on the production server and fill in actual values

###############################################################################
# APPLICATION SETTINGS
###############################################################################
APP_ENV=prod
APP_DEBUG=0
APP_URL=https://your-domain.com
APP_SECRET=CHANGE_THIS_TO_RANDOM_STRING_64_CHARS

###############################################################################
# DOCKER CONFIGURATION
###############################################################################
# Use pre-built image from GitHub Container Registry
DOCKER_IMAGE=ghcr.io/your-username/shopware:latest
IMAGE_TAG=latest
GITHUB_REPOSITORY=your-username/shopware

# Web ports - use standard ports on production server
# Port 80 for HTTP (redirect to HTTPS)
# Port 443 for HTTPS
WEB_HTTP_PORT=80
WEB_HTTPS_PORT=443

###############################################################################
# DATABASE CONFIGURATION
###############################################################################
DB_NAME=shopware
DB_USER=shopware
DB_PASSWORD=CHANGE_THIS_TO_SECURE_PASSWORD
DB_ROOT_PASSWORD=CHANGE_THIS_TO_SECURE_ROOT_PASSWORD
DATABASE_URL=mysql://${DB_USER}:${DB_PASSWORD}@database:3306/${DB_NAME}

###############################################################################
# OPENSEARCH CONFIGURATION
###############################################################################
OPENSEARCH_ENABLED=true
OPENSEARCH_INDEXING_ENABLED=true
OPENSEARCH_INDEX_PREFIX=sw6
OPENSEARCH_PASSWORD=CHANGE_THIS_TO_SECURE_PASSWORD
OPENSEARCH_URL=http://opensearch:9200

###############################################################################
# REDIS CONFIGURATION
###############################################################################
REDIS_URL=redis://redis:6379
MESSENGER_REDIS_URL=redis://redis:6379/1
REDIS_PREFIX=sw_prod

###############################################################################
# MAIL CONFIGURATION
###############################################################################
# Configure your SMTP server here
# Example for Gmail: smtp://username:password@smtp.gmail.com:587
# Example for SendGrid: smtp://apikey:YOUR_API_KEY@smtp.sendgrid.net:587
# Example for Zoho: smtp://username:password@smtp.zoho.eu:587
MAILER_DSN=smtp://username:password@smtp.zoho.eu:587

###############################################################################
# CDN STRATEGY
###############################################################################
SHOPWARE_CDN_STRATEGY_DEFAULT=physical_filename

###############################################################################
# CADDY CONFIGURATION
###############################################################################
# Domain name (without http:// or https://)
# CADDY_HOST=:80 - for HTTP only (not recommended for production)
CADDY_HOST=your-domain.com

# Email for Let's Encrypt notifications (certificate expiry, etc.)
CADDY_EMAIL=admin@your-domain.com

# SSL/HTTPS Configuration
# CADDY_HTTP_ONLY=true    - Disables HTTPS (use for initial setup if having SSL issues)
# CADDY_ACME_CA=staging   - Uses Let's Encrypt staging (for testing, to avoid rate limits)
# For production HTTPS, comment out or set to false/empty:
CADDY_HTTP_ONLY=false
CADDY_ACME_CA=
CADDYFILE_PATH=/tmp/Caddyfile.proc

###############################################################################
# HTTP BASIC AUTH (optional protection during staging)
###############################################################################
# Enable basic auth to protect staging site from public access
CADDY_BASIC_AUTH_ENABLED=false
CADDY_BASIC_AUTH_USER=admin
CADDY_BASIC_AUTH_PASS=CHANGE_THIS_TO_SECURE_PASSWORD
# Hash will be generated automatically, leave empty
CADDY_BASIC_AUTH_HASH=

###############################################################################
# BACKUP CONFIGURATION (Hetzner S3)
###############################################################################
# Get these from Hetzner Storage Box or Object Storage
HETZNER_S3_ACCESS_KEY=YOUR_ACCESS_KEY
HETZNER_S3_SECRET_KEY=YOUR_SECRET_KEY
HETZNER_S3_ENDPOINT=https://fsn1.your-objectstorage.com
HETZNER_S3_BUCKET=shopware-backups
HETZNER_S3_REGION=fsn1
BACKUP_RETENTION_DAYS=14

###############################################################################
# MONITORING
###############################################################################
MONITORING_ENABLED=true
MONITORING_EMAIL=admin@your-domain.com

###############################################################################
# SECURITY
###############################################################################
ALLOWED_HOSTS=${APP_URL}
